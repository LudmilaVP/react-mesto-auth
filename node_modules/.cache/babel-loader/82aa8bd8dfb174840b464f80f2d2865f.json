{"ast":null,"code":"import _slicedToArray from\"C:/Users/Acer/dev/mestoreact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Card from'./Card.js';import React from'react';import api from'../utils/api.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditAvatar=_ref.onEditAvatar,onAddPlace=_ref.onAddPlace,onEditProfile=_ref.onEditProfile,onCardClick=_ref.onCardClick;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userTitle=_React$useState2[0],setUserTitle=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userImage=_React$useState6[0],setUserImage=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];React.useEffect(function(){Promise.all([api.getUserProfile(),api.getInitialCards()]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),userData=_ref3[0],initialCards=_ref3[1];setUserTitle(initialCards.name);setUserDescription(initialCards.about);setUserImage(initialCards.avatar);setCards(userData);}).catch(function(err){return console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__image-container\",onClick:onEditAvatar,children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__image\",src:userImage,alt:\"\\u0424\\u043E\\u0442\\u043E \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__image-overlay\",type:\"button\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__title\",children:userTitle}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__edit-button\",onClick:onEditProfile}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__description\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__add-button\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{onCardClick:onCardClick,card:card},card._id);})})]});}export default Main;","map":{"version":3,"names":["Card","React","api","Main","onEditAvatar","onAddPlace","onEditProfile","onCardClick","useState","userTitle","setUserTitle","userDescription","setUserDescription","userImage","setUserImage","cards","setCards","useEffect","Promise","all","getUserProfile","getInitialCards","then","userData","initialCards","name","about","avatar","catch","err","console","log","map","card","_id"],"sources":["C:/Users/Acer/dev/mestoreact/src/components/Main.js"],"sourcesContent":["import Card from './Card.js';\nimport React from 'react';\nimport api from '../utils/api.js';\n\nfunction Main({onEditAvatar,onAddPlace,onEditProfile, onCardClick}) {\n    const [userTitle, setUserTitle] = React.useState('');\n    const [userDescription, setUserDescription] = React.useState('');\n    const [userImage, setUserImage] = React.useState('');\n    const [cards, setCards] = React.useState([]);\n\nReact.useEffect(() => {\n    Promise.all([api.getUserProfile(), api.getInitialCards()])\n    .then(([userData, initialCards]) => {\n    setUserTitle(initialCards.name);\n  setUserDescription(initialCards.about);\n  setUserImage(initialCards.avatar);\n  setCards(userData);\n})\n.catch((err) => console.log(err)); \n}, []);\n    return ( \n        <main className = 'content'>\n        <section className = 'profile'>\n        <div className = 'profile__image-container'\n        onClick = {onEditAvatar}>\n        <img className = 'profile__image'\n        src = {userImage}\n        alt = 'Фото аватара'/>\n        <button \n        className = 'profile__image-overlay'\n        type = 'button'></button> \n        </div> \n        <div className = 'profile__info'>\n        <h1 className = 'profile__title'>{userTitle}</h1> \n        <button type = 'button'\n        className = 'profile__edit-button'\n        onClick = {onEditProfile}></button> \n        <p className = 'profile__description'>{userDescription}</p> \n        </div> \n        <button type = 'button'\n        className = 'profile__add-button'\n        onClick = {onAddPlace}></button> \n        </section> \n        <section className = 'elements'>\n        {cards.map((card) => {\n            return (\n              <Card\n                key={card._id}\n                onCardClick={onCardClick}\n                card={card}\n              />\n            );\n          })}\n        </section> \n        </main>\n    );\n}\n\nexport default Main;"],"mappings":"kHAAA,MAAOA,KAAI,KAAM,WAAW,CAC5B,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,IAAG,KAAM,iBAAiB,CAAC,wFAElC,QAASC,KAAI,MAAuD,IAArDC,aAAY,MAAZA,YAAY,CAACC,UAAU,MAAVA,UAAU,CAACC,aAAa,MAAbA,aAAa,CAAEC,WAAW,MAAXA,WAAW,CAC7D,oBAAkCN,KAAK,CAACO,QAAQ,CAAC,EAAE,CAAC,oDAA7CC,SAAS,qBAAEC,YAAY,qBAC9B,qBAA8CT,KAAK,CAACO,QAAQ,CAAC,EAAE,CAAC,qDAAzDG,eAAe,qBAAEC,kBAAkB,qBAC1C,qBAAkCX,KAAK,CAACO,QAAQ,CAAC,EAAE,CAAC,qDAA7CK,SAAS,qBAAEC,YAAY,qBAC9B,qBAA0Bb,KAAK,CAACO,QAAQ,CAAC,EAAE,CAAC,qDAArCO,KAAK,qBAAEC,QAAQ,qBAE1Bf,KAAK,CAACgB,SAAS,CAAC,UAAM,CAClBC,OAAO,CAACC,GAAG,CAAC,CAACjB,GAAG,CAACkB,cAAc,EAAE,CAAElB,GAAG,CAACmB,eAAe,EAAE,CAAC,CAAC,CACzDC,IAAI,CAAC,eAA8B,mCAA5BC,QAAQ,UAAEC,YAAY,UAC9Bd,YAAY,CAACc,YAAY,CAACC,IAAI,CAAC,CACjCb,kBAAkB,CAACY,YAAY,CAACE,KAAK,CAAC,CACtCZ,YAAY,CAACU,YAAY,CAACG,MAAM,CAAC,CACjCX,QAAQ,CAACO,QAAQ,CAAC,CACpB,CAAC,CAAC,CACDK,KAAK,CAAC,SAACC,GAAG,QAAKC,QAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACjC,CAAC,CAAE,EAAE,CAAC,CACF,mBACI,cAAM,SAAS,CAAG,SAAS,wBAC3B,iBAAS,SAAS,CAAG,SAAS,wBAC9B,aAAK,SAAS,CAAG,0BAA0B,CAC3C,OAAO,CAAIzB,YAAa,wBACxB,YAAK,SAAS,CAAG,gBAAgB,CACjC,GAAG,CAAIS,SAAU,CACjB,GAAG,CAAG,qEAAc,EAAE,cACtB,eACA,SAAS,CAAG,wBAAwB,CACpC,IAAI,CAAG,QAAQ,EAAU,GACnB,cACN,aAAK,SAAS,CAAG,eAAe,wBAChC,WAAI,SAAS,CAAG,gBAAgB,UAAEJ,SAAS,EAAM,cACjD,eAAQ,IAAI,CAAG,QAAQ,CACvB,SAAS,CAAG,sBAAsB,CAClC,OAAO,CAAIH,aAAc,EAAU,cACnC,UAAG,SAAS,CAAG,sBAAsB,UAAEK,eAAe,EAAK,GACrD,cACN,eAAQ,IAAI,CAAG,QAAQ,CACvB,SAAS,CAAG,qBAAqB,CACjC,OAAO,CAAIN,UAAW,EAAU,GACtB,cACV,gBAAS,SAAS,CAAG,UAAU,UAC9BU,KAAK,CAACiB,GAAG,CAAC,SAACC,IAAI,CAAK,CACjB,mBACE,KAAC,IAAI,EAEH,WAAW,CAAE1B,WAAY,CACzB,IAAI,CAAE0B,IAAK,EAFNA,IAAI,CAACC,GAAG,CAGb,CAEN,CAAC,CAAC,EACM,GACH,CAEf,CAEA,cAAe/B,KAAI"},"metadata":{},"sourceType":"module"}