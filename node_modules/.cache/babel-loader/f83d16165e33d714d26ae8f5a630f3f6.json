{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Acer/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Acer/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Route,Switch,useHistory,Redirect}from'react-router-dom';import{CurrentUserContext}from'../contexts/CurrentUserContext.js';import api from'../utils/api.js';import*as auth from'../utils/auth';import Header from\"./Header.js\";import Footer from\"./Footer.js\";import Main from'./Main';import ImagePopup from\"./ImagePopup.js\";import AddPlacePopup from'./AddPlacePopup.js';import EditAvatarPopup from'./EditAvatarPopup.js';import EditProfilePopup from'./EditProfilePopup.js';import InfoTooltip from'./InfoTooltip';import Login from'./Login.js';import Register from'./Register.js';import ProtectedRoute from'./ProtectedRoute.js';import successImage from'../images/success.svg';import failImage from'../images/fail.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){//хуки\nvar _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isEditProfilePopupOpen=_React$useState2[0],setIsEditProfilePopupOpen=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isAddPlacePopupOpen=_React$useState4[0],setIsAddPlacePopupOpen=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),isEditAvatarPopupOpen=_React$useState6[0],setIsEditAvatarPopupOpen=_React$useState6[1];var _React$useState7=React.useState({img:'',alt:'',opened:false}),_React$useState8=_slicedToArray(_React$useState7,2),selectedCard=_React$useState8[0],setSelectedCard=_React$useState8[1];var _React$useState9=React.useState({}),_React$useState10=_slicedToArray(_React$useState9,2),currentUser=_React$useState10[0],setCurrentUser=_React$useState10[1];var _React$useState11=React.useState([]),_React$useState12=_slicedToArray(_React$useState11,2),cards=_React$useState12[0],setCards=_React$useState12[1];var _React$useState13=React.useState({opened:false,success:false}),_React$useState14=_slicedToArray(_React$useState13,2),isInfoTooltipOpen=_React$useState14[0],setInfoTooltipOpen=_React$useState14[1];var _React$useState15=React.useState(''),_React$useState16=_slicedToArray(_React$useState15,2),userEmail=_React$useState16[0],setUserEmail=_React$useState16[1];var _React$useState17=React.useState(false),_React$useState18=_slicedToArray(_React$useState17,2),loggedIn=_React$useState18[0],setLoggedIn=_React$useState18[1];var history=useHistory();React.useEffect(function(){if(loggedIn){Promise.all([api.getInitialCards(),api.getUserProfile()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),initialCards=_ref2[0],currentUserData=_ref2[1];setCards(initialCards);setCurrentUser(currentUserData);}).catch(function(err){return console.log(err);});}},[loggedIn]);React.useEffect(function(){function handleEscClose(e){e.key==='Escape'&&closeAllPopups();}function handleOverlayClose(e){e.target.classList.contains('popup_opened')&&closeAllPopups();}window.addEventListener('keydown',handleEscClose);window.addEventListener('click',handleOverlayClose);return function(){window.removeEventListener('click',handleOverlayClose);window.removeEventListener('keydown',handleEscClose);};},[]);React.useEffect(function(){auth.tokenCheck(localStorage.getItem('token')).then(function(data){if(data){setUserEmail(data.data.email);setLoggedIn(true);history.push('/');}}).catch(function(err){return console.log(err);});},[]);//вспомогательные функции\nfunction handleCardLike(card){var isLiked=card.likes.some(function(i){return i._id===currentUser._id;});api.changeLikeCardStatus(card._id,isLiked).then(function(newCard){setCards(function(state){return state.map(function(c){return c._id===card._id?newCard:c;});});}).catch(function(err){return console.log(err);});}function handleCardDelete(card){api.removeCard(card._id).then(function(){setCards(cards.filter(function(item){return item._id!==card._id;}));}).catch(function(err){return console.log(err);});}function handleUpdateUserProfile(_ref3){var name=_ref3.name,about=_ref3.about;api.setUserProfile({name:name,about:about}).then(function(currentUserData){setCurrentUser(currentUserData);closeAllPopups();}).catch(function(err){console.log(err);});}function handleUpdateUserAvatar(_ref4){var avatar=_ref4.avatar;api.updateUserAvatar({avatar:avatar}).then(function(currentUserData){setCurrentUser(currentUserData);closeAllPopups();}).catch(function(err){console.log(err);});}function handleAddPlace(_ref5){var name=_ref5.name,link=_ref5.link;api.addNewCard({name:name,link:link}).then(function(newCard){setCards([newCard].concat(_toConsumableArray(cards)));closeAllPopups();}).catch(function(err){console.log(err);});}function handleEditAvatarClick(){setIsEditAvatarPopupOpen(true);}function handleEditProfileClick(){setIsEditProfilePopupOpen(true);}function handleAddPlaceClick(){setIsAddPlacePopupOpen(true);}function handleClickCard(card){setSelectedCard(card);}function closeAllPopups(){setIsAddPlacePopupOpen(false);setIsEditAvatarPopupOpen(false);setIsEditProfilePopupOpen(false);setSelectedCard({src:'',alt:'',opened:false});setInfoTooltipOpen({opened:false,success:false});}function handleLogout(){localStorage.removeItem('token');setUserEmail('');setLoggedIn(false);history.push('/');}function handleSignupSubmit(email,password){auth.register(email,password).then(function(result){if(result){setUserEmail(result.data.email);setInfoTooltipOpen({opened:true,success:true});setLoggedIn(true);history.push('/');}}).catch(function(err){console.log(err);setInfoTooltipOpen({opened:true,success:false});});}function handleSigninSubmit(email,password){auth.authorization(email,password).then(function(data){if(data.token){localStorage.setItem('token',data.token);setUserEmail(email);setLoggedIn(true);history.push('/');}}).catch(function(err){console.log(err);setInfoTooltipOpen({opened:true,success:false});});}return/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(Header,{userEmail:userEmail,onLogout:handleLogout,loggedIn:loggedIn}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/\",component:Main,loggedIn:loggedIn,onEditAvatar:handleEditAvatarClick,onEditProfile:handleEditProfileClick,onAddPlace:handleAddPlaceClick,onCardClick:handleClickCard,onCardLike:handleCardLike,onCardDelete:handleCardDelete,cards:cards}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",children:/*#__PURE__*/_jsx(Login,{onSignin:handleSigninSubmit})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",children:/*#__PURE__*/_jsx(Register,{onSignup:handleSignupSubmit})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"*\",children:loggedIn?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):/*#__PURE__*/_jsx(Redirect,{to:\"/sign-in\"})})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUserProfile}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlace:handleAddPlace}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateUserAvatar}),/*#__PURE__*/_jsx(ImagePopup,{onClose:closeAllPopups,card:selectedCard}),/*#__PURE__*/_jsx(InfoTooltip,{onClose:closeAllPopups,isOpen:isInfoTooltipOpen.opened,statusImage:isInfoTooltipOpen.success?successImage:failImage,title:isInfoTooltipOpen.success?'Вы успешно зарегистрировались!':'Что-то пошло не так! Попробуйте ещё раз'})]})});}export default App;","map":{"version":3,"names":["React","Route","Switch","useHistory","Redirect","CurrentUserContext","api","auth","Header","Footer","Main","ImagePopup","AddPlacePopup","EditAvatarPopup","EditProfilePopup","InfoTooltip","Login","Register","ProtectedRoute","successImage","failImage","App","useState","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","img","alt","opened","selectedCard","setSelectedCard","currentUser","setCurrentUser","cards","setCards","success","isInfoTooltipOpen","setInfoTooltipOpen","userEmail","setUserEmail","loggedIn","setLoggedIn","history","useEffect","Promise","all","getInitialCards","getUserProfile","then","initialCards","currentUserData","catch","err","console","log","handleEscClose","e","key","closeAllPopups","handleOverlayClose","target","classList","contains","window","addEventListener","removeEventListener","tokenCheck","localStorage","getItem","data","email","push","handleCardLike","card","isLiked","likes","some","i","_id","changeLikeCardStatus","newCard","state","map","c","handleCardDelete","removeCard","filter","item","handleUpdateUserProfile","name","about","setUserProfile","handleUpdateUserAvatar","avatar","updateUserAvatar","handleAddPlace","link","addNewCard","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleClickCard","src","handleLogout","removeItem","handleSignupSubmit","password","register","result","handleSigninSubmit","authorization","token","setItem"],"sources":["C:/Users/Acer/dev/react-mesto-auth/src/components/App.js"],"sourcesContent":["import React from \"react\";\r\nimport { Route, Switch, useHistory, Redirect } from 'react-router-dom';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport api from '../utils/api.js';\r\nimport * as auth from '../utils/auth';\r\nimport Header from \"./Header.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport Main from './Main';\r\nimport ImagePopup from \"./ImagePopup.js\";\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport Login from './Login.js';\r\nimport Register from './Register.js';\r\nimport ProtectedRoute from './ProtectedRoute.js';\r\nimport successImage from '../images/success.svg';\r\nimport failImage from '../images/fail.svg'\r\n\r\nfunction App() {\r\n  //хуки\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({ img: '', alt: '', opened: false });\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState({ opened: false, success: false });\r\n  const [userEmail, setUserEmail] = React.useState('');\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const history = useHistory();\r\n\r\n  React.useEffect(() => {\r\n    if (loggedIn) {\r\n      Promise.all([api.getInitialCards(), api.getUserProfile()])\r\n        .then(([initialCards, currentUserData]) => {\r\n          setCards(initialCards);\r\n          setCurrentUser(currentUserData);\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n  }, [loggedIn])\r\n\r\n  React.useEffect(() => {\r\n    function handleEscClose(e) {\r\n      e.key === 'Escape' && closeAllPopups();\r\n    }\r\n    function handleOverlayClose(e) {\r\n      e.target.classList.contains('popup_opened') && closeAllPopups();\r\n    }\r\n    window.addEventListener('keydown', handleEscClose);\r\n    window.addEventListener('click', handleOverlayClose);\r\n\r\n    return () => {\r\n      window.removeEventListener('click', handleOverlayClose);\r\n      window.removeEventListener('keydown', handleEscClose);\r\n\r\n    };\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    auth.tokenCheck(localStorage.getItem('token'))\r\n      .then((data) => {\r\n        if (data) {\r\n          setUserEmail(data.data.email);\r\n          setLoggedIn(true);\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [])\r\n\r\n  //вспомогательные функции\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .removeCard(card._id)\r\n      .then(() => {\r\n        setCards(cards.filter(item => item._id !== card._id));\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  function handleUpdateUserProfile({ name, about }) {\r\n    api\r\n      .setUserProfile({ name, about })\r\n      .then((currentUserData) => {\r\n        setCurrentUser(currentUserData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateUserAvatar({ avatar }) {\r\n    api\r\n      .updateUserAvatar({ avatar })\r\n      .then((currentUserData) => {\r\n        setCurrentUser(currentUserData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleAddPlace({ name, link }) {\r\n    api\r\n      .addNewCard({ name, link })\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleClickCard(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setSelectedCard({ src: '', alt: '', opened: false });\r\n    setInfoTooltipOpen({ opened: false, success: false });\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('token');\r\n    setUserEmail('');\r\n    setLoggedIn(false);\r\n    history.push('/');\r\n  }\r\n\r\n  function handleSignupSubmit(email, password) {\r\n    auth.register(email, password)\r\n      .then(result => {\r\n        if (result) {\r\n          setUserEmail(result.data.email);\r\n          setInfoTooltipOpen({ opened: true, success: true })\r\n          setLoggedIn(true);\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setInfoTooltipOpen({ opened: true, success: false })\r\n      })\r\n  }\r\n\r\n  function handleSigninSubmit(email, password) {\r\n    auth.authorization(email, password)\r\n      .then(data => {\r\n        if (data.token) {\r\n          localStorage.setItem('token', data.token);\r\n          setUserEmail(email);\r\n          setLoggedIn(true);\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setInfoTooltipOpen({ opened: true, success: false })\r\n      })\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header\r\n          userEmail={userEmail}\r\n          onLogout={handleLogout}\r\n          loggedIn={loggedIn}\r\n        />\r\n        <Switch>\r\n          <ProtectedRoute exact path='/'\r\n            component={Main}\r\n            loggedIn={loggedIn}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={handleClickCard}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            cards={cards}\r\n          />\r\n          <Route path=\"/sign-in\">\r\n            <Login\r\n              onSignin={handleSigninSubmit}\r\n            />\r\n          </Route>\r\n\r\n          <Route path=\"/sign-up\">\r\n            <Register\r\n              onSignup={handleSignupSubmit}\r\n            />\r\n          </Route>\r\n\r\n          <Route exact path=\"*\">\r\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n          </Route>\r\n        </Switch>\r\n        <Footer />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUserProfile}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlace}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateUserAvatar}\r\n        />\r\n\r\n        <ImagePopup onClose={closeAllPopups} card={selectedCard} />\r\n        <InfoTooltip\r\n          onClose={closeAllPopups}\r\n          isOpen={isInfoTooltipOpen.opened}\r\n          statusImage={isInfoTooltipOpen.success ? successImage : failImage}\r\n          title={isInfoTooltipOpen.success ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз'}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"wPAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,KAAK,CAAEC,MAAM,CAAEC,UAAU,CAAEC,QAAQ,KAAQ,kBAAkB,CACtE,OAASC,kBAAkB,KAAQ,mCAAmC,CACtE,MAAOC,IAAG,KAAM,iBAAiB,CACjC,MAAO,GAAKC,KAAI,KAAM,eAAe,CACrC,MAAOC,OAAM,KAAM,aAAa,CAChC,MAAOC,OAAM,KAAM,aAAa,CAChC,MAAOC,KAAI,KAAM,QAAQ,CACzB,MAAOC,WAAU,KAAM,iBAAiB,CACxC,MAAOC,cAAa,KAAM,oBAAoB,CAC9C,MAAOC,gBAAe,KAAM,sBAAsB,CAClD,MAAOC,iBAAgB,KAAM,uBAAuB,CACpD,MAAOC,YAAW,KAAM,eAAe,CACvC,MAAOC,MAAK,KAAM,YAAY,CAC9B,MAAOC,SAAQ,KAAM,eAAe,CACpC,MAAOC,eAAc,KAAM,qBAAqB,CAChD,MAAOC,aAAY,KAAM,uBAAuB,CAChD,MAAOC,UAAS,KAAM,oBAAoB,yFAE1C,QAASC,IAAG,EAAG,CACb;AACA,oBAA4DrB,KAAK,CAACsB,QAAQ,CAAC,KAAK,CAAC,oDAA1EC,sBAAsB,qBAAEC,yBAAyB,qBACxD,qBAAsDxB,KAAK,CAACsB,QAAQ,CAAC,KAAK,CAAC,qDAApEG,mBAAmB,qBAAEC,sBAAsB,qBAClD,qBAA0D1B,KAAK,CAACsB,QAAQ,CAAC,KAAK,CAAC,qDAAxEK,qBAAqB,qBAAEC,wBAAwB,qBACtD,qBAAwC5B,KAAK,CAACsB,QAAQ,CAAC,CAAEO,GAAG,CAAE,EAAE,CAAEC,GAAG,CAAE,EAAE,CAAEC,MAAM,CAAE,KAAM,CAAC,CAAC,qDAApFC,YAAY,qBAAEC,eAAe,qBACpC,qBAAsCjC,KAAK,CAACsB,QAAQ,CAAC,CAAC,CAAC,CAAC,sDAAjDY,WAAW,sBAAEC,cAAc,sBAClC,sBAA0BnC,KAAK,CAACsB,QAAQ,CAAC,EAAE,CAAC,uDAArCc,KAAK,sBAAEC,QAAQ,sBACtB,sBAAgDrC,KAAK,CAACsB,QAAQ,CAAC,CAAES,MAAM,CAAE,KAAK,CAAEO,OAAO,CAAE,KAAM,CAAC,CAAC,uDAA1FC,iBAAiB,sBAAEC,kBAAkB,sBAC5C,sBAAkCxC,KAAK,CAACsB,QAAQ,CAAC,EAAE,CAAC,uDAA7CmB,SAAS,sBAAEC,YAAY,sBAC9B,sBAAgC1C,KAAK,CAACsB,QAAQ,CAAC,KAAK,CAAC,uDAA9CqB,QAAQ,sBAAEC,WAAW,sBAC5B,GAAMC,QAAO,CAAG1C,UAAU,EAAE,CAE5BH,KAAK,CAAC8C,SAAS,CAAC,UAAM,CACpB,GAAIH,QAAQ,CAAE,CACZI,OAAO,CAACC,GAAG,CAAC,CAAC1C,GAAG,CAAC2C,eAAe,EAAE,CAAE3C,GAAG,CAAC4C,cAAc,EAAE,CAAC,CAAC,CACvDC,IAAI,CAAC,cAAqC,kCAAnCC,YAAY,UAAEC,eAAe,UACnChB,QAAQ,CAACe,YAAY,CAAC,CACtBjB,cAAc,CAACkB,eAAe,CAAC,CACjC,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACnC,CACF,CAAC,CAAE,CAACZ,QAAQ,CAAC,CAAC,CAEd3C,KAAK,CAAC8C,SAAS,CAAC,UAAM,CACpB,QAASY,eAAc,CAACC,CAAC,CAAE,CACzBA,CAAC,CAACC,GAAG,GAAK,QAAQ,EAAIC,cAAc,EAAE,CACxC,CACA,QAASC,mBAAkB,CAACH,CAAC,CAAE,CAC7BA,CAAC,CAACI,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,cAAc,CAAC,EAAIJ,cAAc,EAAE,CACjE,CACAK,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAET,cAAc,CAAC,CAClDQ,MAAM,CAACC,gBAAgB,CAAC,OAAO,CAAEL,kBAAkB,CAAC,CAEpD,MAAO,WAAM,CACXI,MAAM,CAACE,mBAAmB,CAAC,OAAO,CAAEN,kBAAkB,CAAC,CACvDI,MAAM,CAACE,mBAAmB,CAAC,SAAS,CAAEV,cAAc,CAAC,CAEvD,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN1D,KAAK,CAAC8C,SAAS,CAAC,UAAM,CACpBvC,IAAI,CAAC8D,UAAU,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAC3CpB,IAAI,CAAC,SAACqB,IAAI,CAAK,CACd,GAAIA,IAAI,CAAE,CACR9B,YAAY,CAAC8B,IAAI,CAACA,IAAI,CAACC,KAAK,CAAC,CAC7B7B,WAAW,CAAC,IAAI,CAAC,CACjBC,OAAO,CAAC6B,IAAI,CAAC,GAAG,CAAC,CACnB,CACF,CAAC,CAAC,CACDpB,KAAK,CAAC,SAACC,GAAG,QAAKC,QAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,QAASoB,eAAc,CAACC,IAAI,CAAE,CAC5B,GAAMC,QAAO,CAAGD,IAAI,CAACE,KAAK,CAACC,IAAI,CAAC,SAACC,CAAC,QAAKA,EAAC,CAACC,GAAG,GAAK/C,WAAW,CAAC+C,GAAG,GAAC,CACjE3E,GAAG,CACA4E,oBAAoB,CAACN,IAAI,CAACK,GAAG,CAAEJ,OAAO,CAAC,CACvC1B,IAAI,CAAC,SAACgC,OAAO,CAAK,CACjB9C,QAAQ,CAAC,SAAC+C,KAAK,QACbA,MAAK,CAACC,GAAG,CAAC,SAACC,CAAC,QAAMA,EAAC,CAACL,GAAG,GAAKL,IAAI,CAACK,GAAG,CAAGE,OAAO,CAAGG,CAAC,EAAC,CAAC,GACrD,CACH,CAAC,CAAC,CACDhC,KAAK,CAAC,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACnC,CAEA,QAASgC,iBAAgB,CAACX,IAAI,CAAE,CAC9BtE,GAAG,CACAkF,UAAU,CAACZ,IAAI,CAACK,GAAG,CAAC,CACpB9B,IAAI,CAAC,UAAM,CACVd,QAAQ,CAACD,KAAK,CAACqD,MAAM,CAAC,SAAAC,IAAI,QAAIA,KAAI,CAACT,GAAG,GAAKL,IAAI,CAACK,GAAG,GAAC,CAAC,CACvD,CAAC,CAAC,CACD3B,KAAK,CAAC,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACnC,CAEA,QAASoC,wBAAuB,OAAkB,IAAfC,KAAI,OAAJA,IAAI,CAAEC,KAAK,OAALA,KAAK,CAC5CvF,GAAG,CACAwF,cAAc,CAAC,CAAEF,IAAI,CAAJA,IAAI,CAAEC,KAAK,CAALA,KAAM,CAAC,CAAC,CAC/B1C,IAAI,CAAC,SAACE,eAAe,CAAK,CACzBlB,cAAc,CAACkB,eAAe,CAAC,CAC/BQ,cAAc,EAAE,CAClB,CAAC,CAAC,CACDP,KAAK,CAAC,SAACC,GAAG,CAAK,CACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CAAC,CAAC,CACN,CAEA,QAASwC,uBAAsB,OAAa,IAAVC,OAAM,OAANA,MAAM,CACtC1F,GAAG,CACA2F,gBAAgB,CAAC,CAAED,MAAM,CAANA,MAAO,CAAC,CAAC,CAC5B7C,IAAI,CAAC,SAACE,eAAe,CAAK,CACzBlB,cAAc,CAACkB,eAAe,CAAC,CAC/BQ,cAAc,EAAE,CAClB,CAAC,CAAC,CACDP,KAAK,CAAC,SAACC,GAAG,CAAK,CACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CAAC,CAAC,CACN,CAEA,QAAS2C,eAAc,OAAiB,IAAdN,KAAI,OAAJA,IAAI,CAAEO,IAAI,OAAJA,IAAI,CAClC7F,GAAG,CACA8F,UAAU,CAAC,CAAER,IAAI,CAAJA,IAAI,CAAEO,IAAI,CAAJA,IAAK,CAAC,CAAC,CAC1BhD,IAAI,CAAC,SAACgC,OAAO,CAAK,CACjB9C,QAAQ,EAAE8C,OAAO,4BAAK/C,KAAK,GAAE,CAC7ByB,cAAc,EAAE,CAClB,CAAC,CAAC,CACDP,KAAK,CAAC,SAACC,GAAG,CAAK,CACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CAAC,CAAC,CACN,CAEA,QAAS8C,sBAAqB,EAAG,CAC/BzE,wBAAwB,CAAC,IAAI,CAAC,CAChC,CAEA,QAAS0E,uBAAsB,EAAG,CAChC9E,yBAAyB,CAAC,IAAI,CAAC,CACjC,CAEA,QAAS+E,oBAAmB,EAAG,CAC7B7E,sBAAsB,CAAC,IAAI,CAAC,CAC9B,CAEA,QAAS8E,gBAAe,CAAC5B,IAAI,CAAE,CAC7B3C,eAAe,CAAC2C,IAAI,CAAC,CACvB,CAEA,QAASf,eAAc,EAAG,CACxBnC,sBAAsB,CAAC,KAAK,CAAC,CAC7BE,wBAAwB,CAAC,KAAK,CAAC,CAC/BJ,yBAAyB,CAAC,KAAK,CAAC,CAChCS,eAAe,CAAC,CAAEwE,GAAG,CAAE,EAAE,CAAE3E,GAAG,CAAE,EAAE,CAAEC,MAAM,CAAE,KAAM,CAAC,CAAC,CACpDS,kBAAkB,CAAC,CAAET,MAAM,CAAE,KAAK,CAAEO,OAAO,CAAE,KAAM,CAAC,CAAC,CACvD,CAEA,QAASoE,aAAY,EAAG,CACtBpC,YAAY,CAACqC,UAAU,CAAC,OAAO,CAAC,CAChCjE,YAAY,CAAC,EAAE,CAAC,CAChBE,WAAW,CAAC,KAAK,CAAC,CAClBC,OAAO,CAAC6B,IAAI,CAAC,GAAG,CAAC,CACnB,CAEA,QAASkC,mBAAkB,CAACnC,KAAK,CAAEoC,QAAQ,CAAE,CAC3CtG,IAAI,CAACuG,QAAQ,CAACrC,KAAK,CAAEoC,QAAQ,CAAC,CAC3B1D,IAAI,CAAC,SAAA4D,MAAM,CAAI,CACd,GAAIA,MAAM,CAAE,CACVrE,YAAY,CAACqE,MAAM,CAACvC,IAAI,CAACC,KAAK,CAAC,CAC/BjC,kBAAkB,CAAC,CAAET,MAAM,CAAE,IAAI,CAAEO,OAAO,CAAE,IAAK,CAAC,CAAC,CACnDM,WAAW,CAAC,IAAI,CAAC,CACjBC,OAAO,CAAC6B,IAAI,CAAC,GAAG,CAAC,CACnB,CACF,CAAC,CAAC,CACDpB,KAAK,CAAC,SAACC,GAAG,CAAK,CACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChBf,kBAAkB,CAAC,CAAET,MAAM,CAAE,IAAI,CAAEO,OAAO,CAAE,KAAM,CAAC,CAAC,CACtD,CAAC,CAAC,CACN,CAEA,QAAS0E,mBAAkB,CAACvC,KAAK,CAAEoC,QAAQ,CAAE,CAC3CtG,IAAI,CAAC0G,aAAa,CAACxC,KAAK,CAAEoC,QAAQ,CAAC,CAChC1D,IAAI,CAAC,SAAAqB,IAAI,CAAI,CACZ,GAAIA,IAAI,CAAC0C,KAAK,CAAE,CACd5C,YAAY,CAAC6C,OAAO,CAAC,OAAO,CAAE3C,IAAI,CAAC0C,KAAK,CAAC,CACzCxE,YAAY,CAAC+B,KAAK,CAAC,CACnB7B,WAAW,CAAC,IAAI,CAAC,CACjBC,OAAO,CAAC6B,IAAI,CAAC,GAAG,CAAC,CACnB,CACF,CAAC,CAAC,CACDpB,KAAK,CAAC,SAACC,GAAG,CAAK,CACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChBf,kBAAkB,CAAC,CAAET,MAAM,CAAE,IAAI,CAAEO,OAAO,CAAE,KAAM,CAAC,CAAC,CACtD,CAAC,CAAC,CACN,CAEA,mBACE,KAAC,kBAAkB,CAAC,QAAQ,EAAC,KAAK,CAAEJ,WAAY,uBAC9C,aAAK,SAAS,CAAC,MAAM,wBACnB,KAAC,MAAM,EACL,SAAS,CAAEO,SAAU,CACrB,QAAQ,CAAEiE,YAAa,CACvB,QAAQ,CAAE/D,QAAS,EACnB,cACF,MAAC,MAAM,yBACL,KAAC,cAAc,EAAC,KAAK,MAAC,IAAI,CAAC,GAAG,CAC5B,SAAS,CAAEjC,IAAK,CAChB,QAAQ,CAAEiC,QAAS,CACnB,YAAY,CAAE0D,qBAAsB,CACpC,aAAa,CAAEC,sBAAuB,CACtC,UAAU,CAAEC,mBAAoB,CAChC,WAAW,CAAEC,eAAgB,CAC7B,UAAU,CAAE7B,cAAe,CAC3B,YAAY,CAAEY,gBAAiB,CAC/B,KAAK,CAAEnD,KAAM,EACb,cACF,KAAC,KAAK,EAAC,IAAI,CAAC,UAAU,uBACpB,KAAC,KAAK,EACJ,QAAQ,CAAE4E,kBAAmB,EAC7B,EACI,cAER,KAAC,KAAK,EAAC,IAAI,CAAC,UAAU,uBACpB,KAAC,QAAQ,EACP,QAAQ,CAAEJ,kBAAmB,EAC7B,EACI,cAER,KAAC,KAAK,EAAC,KAAK,MAAC,IAAI,CAAC,GAAG,UAClBjE,QAAQ,cAAG,KAAC,QAAQ,EAAC,EAAE,CAAC,GAAG,EAAG,cAAG,KAAC,QAAQ,EAAC,EAAE,CAAC,UAAU,EAAG,EACtD,GACD,cACT,KAAC,MAAM,IAAG,cACV,KAAC,gBAAgB,EACf,MAAM,CAAEpB,sBAAuB,CAC/B,OAAO,CAAEsC,cAAe,CACxB,YAAY,CAAE8B,uBAAwB,EACtC,cACF,KAAC,aAAa,EACZ,MAAM,CAAElE,mBAAoB,CAC5B,OAAO,CAAEoC,cAAe,CACxB,UAAU,CAAEqC,cAAe,EAC3B,cACF,KAAC,eAAe,EACd,MAAM,CAAEvE,qBAAsB,CAC9B,OAAO,CAAEkC,cAAe,CACxB,cAAc,CAAEkC,sBAAuB,EACvC,cAEF,KAAC,UAAU,EAAC,OAAO,CAAElC,cAAe,CAAC,IAAI,CAAE7B,YAAa,EAAG,cAC3D,KAAC,WAAW,EACV,OAAO,CAAE6B,cAAe,CACxB,MAAM,CAAEtB,iBAAiB,CAACR,MAAO,CACjC,WAAW,CAAEQ,iBAAiB,CAACD,OAAO,CAAGnB,YAAY,CAAGC,SAAU,CAClE,KAAK,CAAEmB,iBAAiB,CAACD,OAAO,CAAG,gCAAgC,CAAG,yCAA0C,EAChH,GACE,EACsB,CAElC,CAEA,cAAejB,IAAG"},"metadata":{},"sourceType":"module"}