{"ast":null,"code":"import _classCallCheck from\"C:/Users/Acer/dev/mestoreact/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Acer/dev/mestoreact/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._baseUrl=options.baseUrl;this._headers=options.headers;}_createClass(Api,[{key:\"_getResponse\",value:function _getResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}//Загрузка информации о пользователе с сервера\n},{key:\"getUserProfile\",value:function getUserProfile(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'GET',headers:this._headers}).then(this._getResponse);}//Загрузка карточек с сервера\n},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'GET',headers:this._headers}).then(this._getResponse);}//Редактирование профиля\n},{key:\"setUserProfile\",value:function setUserProfile(data){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:data.name,about:data.about})}).then(this._getResponse);}//Добавление новой карточки\n},{key:\"addNewCard\",value:function addNewCard(data){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:data.name,link:data.link})}).then(this._getResponse);}//Удаление карточки\n},{key:\"removeCard\",value:function removeCard(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id),{method:'DELETE',headers:this._headers}).then(this._getResponse);}//Постановка и снятие лайка\n},{key:\"addLikeCard\",value:function addLikeCard(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:'PUT',headers:this._headers}).then(this._getResponse);}},{key:\"deleteLikeCard\",value:function deleteLikeCard(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:'DELETE',headers:this._headers}).then(this._getResponse);}//Обновление аватара пользователя\n},{key:\"updateUserAvatar\",value:function updateUserAvatar(data){return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:data.avatar})}).then(this._getResponse);}}]);return Api;}();var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-50',headers:{authorization:'6d230dea-9c95-40e9-94e3-e33b18a30e51','Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["Api","options","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_getResponse","data","body","JSON","stringify","name","about","link","id","avatar","api","authorization"],"sources":["C:/Users/Acer/dev/mestoreact/src/utils/api.js"],"sourcesContent":[" class Api {\n    constructor(options) {\n        this._baseUrl = options.baseUrl;\n        this._headers = options.headers;\n    }\n\n    _getResponse(res) {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка: ${res.status}`);\n        }\n        //Загрузка информации о пользователе с сервера\n    getUserProfile() {\n            return fetch(`${this._baseUrl}/users/me`, {\n                    method: 'GET',\n                    headers: this._headers\n                })\n                .then(this._getResponse)\n        }\n        //Загрузка карточек с сервера\n    getInitialCards() {\n            return fetch(`${this._baseUrl}/cards`, {\n                    method: 'GET',\n                    headers: this._headers\n                })\n                .then(this._getResponse)\n        }\n        //Редактирование профиля\n    setUserProfile(data) {\n            return fetch(`${this._baseUrl}/users/me`, {\n                    method: 'PATCH',\n                    headers: this._headers,\n                    body: JSON.stringify({\n                        name: data.name,\n                        about: data.about\n                    })\n                })\n                .then(this._getResponse)\n        }\n        //Добавление новой карточки\n    addNewCard(data) {\n            return fetch(`${this._baseUrl}/cards`, {\n                    method: 'POST',\n                    headers: this._headers,\n                    body: JSON.stringify({\n                        name: data.name,\n                        link: data.link\n                    })\n                })\n                .then(this._getResponse)\n        }\n        //Удаление карточки\n    removeCard(id) {\n            return fetch(`${this._baseUrl}/cards/${id}`, {\n                    method: 'DELETE',\n                    headers: this._headers,\n                })\n                .then(this._getResponse)\n        }\n        //Постановка и снятие лайка\n    addLikeCard(id) {\n        return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n                method: 'PUT',\n                headers: this._headers,\n            })\n            .then(this._getResponse)\n    }\n\n    deleteLikeCard(id) {\n            return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n                    method: 'DELETE',\n                    headers: this._headers,\n                })\n                .then(this._getResponse)\n        }\n        //Обновление аватара пользователя\n    updateUserAvatar(data) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n                method: 'PATCH',\n                headers: this._headers,\n                body: JSON.stringify({\n                    avatar: data.avatar,\n                })\n            })\n            .then(this._getResponse)\n    }\n}\nconst api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-50',\n    headers: {\n        authorization: '6d230dea-9c95-40e9-94e3-e33b18a30e51',\n        'Content-Type': 'application/json'\n    }\n});\nexport default api"],"mappings":"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"},"metadata":{},"sourceType":"module"}